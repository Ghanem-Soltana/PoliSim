<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="2.1" xmlns:xmi="http://schema.omg.org/spec/XMI/2.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:CTIE_Profile_Final="http:///schemas/CTIE_Profile_Final/_fVAD0HeiEeOevenns9-O-w/325" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/3.0.0/UML" xsi:schemaLocation="http:///schemas/CTIE_Profile_Final/_fVAD0HeiEeOevenns9-O-w/325 CTIE_Profile_Final.profile.uml#_1kC5ypo_EeOXzvVK2MY5wA">
  <uml:Package xmi:id="_1kgMtJo_EeOXzvVK2MY5wA" name="DS_for_Donations">
    <packageImport xmi:id="_1kgMtZo_EeOXzvVK2MY5wA">
      <importedPackage xmi:type="uml:Model" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#_0"/>
    </packageImport>
    <packagedElement xmi:type="uml:Activity" xmi:id="_1kgMtpo_EeOXzvVK2MY5wA" name="DS_Donations">
      <ownedComment xmi:id="_1kgMt5o_EeOXzvVK2MY5wA" annotatedElement="_1kgM75o_EeOXzvVK2MY5wA _1kgM8Zo_EeOXzvVK2MY5wA">
        <body>&lt;p>&lt;b>Source: &lt;/b>Grand Ducal Regulation (2013&lt;b>)&lt;/b>&lt;b>&lt;/b>&lt;/p></body>
      </ownedComment>
      <ownedComment xmi:id="_1kgMuJo_EeOXzvVK2MY5wA">
        <body>&lt;p>self.incomes-&amp;gt;select(income: Income | income.year = current_taxation_year)-&amp;gt;iterate(income: Income, total : Number = 0 | total = total + income.amount)&lt;/p></body>
      </ownedComment>
      <ownedComment xmi:id="_1kgMuZo_EeOXzvVK2MY5wA" annotatedElement="_1kgM9Jo_EeOXzvVK2MY5wA">
        <body>&lt;p>&lt;b>Agent: &lt;/b>officer &lt;/p>&lt;p>&lt;b>Question&amp;nbsp;type: &lt;/b>Which year needs to be checked?&lt;/p></body>
      </ownedComment>
      <ownedComment xmi:id="_1kgMupo_EeOXzvVK2MY5wA" annotatedElement="_1kgNLZo_EeOXzvVK2MY5wA">
        <body>&lt;p>income.getDeductionForDonations(taxation_year).deduced_amount&lt;/p></body>
      </ownedComment>
      <ownedComment xmi:id="_1kgMu5o_EeOXzvVK2MY5wA" annotatedElement="_1kgNJ5o_EeOXzvVK2MY5wA">
        <body>&lt;p>&lt;span style=&quot;font-size:9pt;&quot;>income.expenses-&amp;gt;select(e:Expense |e.oclIsTypeOf(Donation) and (e.year_expense_was_incurred_in = taxation_year &lt;/span>&lt;span style=&quot;font-size:9pt;&quot;>or &lt;/span>&lt;/p>&lt;p>&lt;span style=&quot;font-size:9pt;&quot;>e.is_donation_reported = false) and e.is_eligible_donation)&lt;/span>&lt;/p></body>
      </ownedComment>
      <ownedComment xmi:id="_1kgMvJo_EeOXzvVK2MY5wA" annotatedElement="_1kgM7Jo_EeOXzvVK2MY5wA">
        <body>&lt;p>self.incomes-&amp;gt;select(income: Income | income.year = taxation_year)&lt;/p></body>
      </ownedComment>
      <ownedComment xmi:id="_1kgMvZo_EeOXzvVK2MY5wA" annotatedElement="_1kgNK5o_EeOXzvVK2MY5wA">
        <body>&lt;p>eligible_donations.declared_amount-&amp;gt;sum()&lt;/p></body>
      </ownedComment>
      <ownedComment xmi:id="_1kgMvpo_EeOXzvVK2MY5wA" annotatedElement="_1kgNL5o_EeOXzvVK2MY5wA">
        <body>&lt;p>&lt;b>OCL: &lt;/b>income.authorized_deductible_amount_for_donation&lt;/p>&lt;p>&lt;b>Source: &lt;/b>Art. 109, 112 Income Tax Law (2013)&lt;/p></body>
      </ownedComment>
      <ownedComment xmi:id="_1kgMv5o_EeOXzvVK2MY5wA" annotatedElement="_1kgNMZo_EeOXzvVK2MY5wA">
        <body>&lt;p>&lt;b>OCL: &lt;/b>income.maximum_deductible_amount_for_donation&lt;/p>&lt;p>&lt;b>Source: &lt;/b>Art. 109, 112 Income Tax Law (2013)&lt;/p></body>
      </ownedComment>
      <ownedRule xmi:id="_1kgMwJo_EeOXzvVK2MY5wA" name="assert_initiaization" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgMwZo_EeOXzvVK2MY5wA">
          <language></language>
          <body>donations@pre.amount = sum_eligible_donations – maximum_deductible_amount_for_donation</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgMwpo_EeOXzvVK2MY5wA" name="assert_reported_DS" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgMw5o_EeOXzvVK2MY5wA">
          <language></language>
          <body>reported_valid_donation_counter=reported_valid_donation_counter@pre+1</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgMxJo_EeOXzvVK2MY5wA" name="formula_deduction_max_DS" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgMxZo_EeOXzvVK2MY5wA">
          <language></language>
          <body>maximum_deductible_amount_for_donation</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgMxpo_EeOXzvVK2MY5wA" name="formula_sum_DS" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgMx5o_EeOXzvVK2MY5wA">
          <language></language>
          <body>sum_eligible_donations</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgMyJo_EeOXzvVK2MY5wA" name="fromrecord_reported_valid_donation_counter_DS" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgMyZo_EeOXzvVK2MY5wA">
          <language></language>
          <body>donation.reported_valid_donation_counter</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgMypo_EeOXzvVK2MY5wA" name="fromrecord_beneficiary_DS" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgMy5o_EeOXzvVK2MY5wA">
          <language></language>
          <body>donation.beneficiary</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgMzJo_EeOXzvVK2MY5wA" name="fromrecord_total_income_DS" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgMzZo_EeOXzvVK2MY5wA">
          <language></language>
          <body>self.incomes->select(income: Income | income.year = current_taxation_year)->iterate(income: Income, total : Number = 0 | total = total + income.amount)</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgMzpo_EeOXzvVK2MY5wA" name="fromrecord_donations_DS" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgMz5o_EeOXzvVK2MY5wA">
          <language></language>
          <body>self.expenses-> select(e:Expense | e.oclIsTypeOf(Donation) and e.year_expense_was_incurred_in = taxation_year)</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgM0Jo_EeOXzvVK2MY5wA" name="formule_calculate_case_2" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM0Zo_EeOXzvVK2MY5wA">
          <language></language>
          <body>sum_eligible_donations - authorized_deductible_amount_for_donation</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgM0po_EeOXzvVK2MY5wA" name="assert_check_deduction_case2" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM05o_EeOXzvVK2MY5wA">
          <language></language>
          <body>deduction.getDS_Donation() = result</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgM1Jo_EeOXzvVK2MY5wA" name="formula_deduction_authorized" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM1Zo_EeOXzvVK2MY5wA">
          <language></language>
          <body>authorized_deductible_amount_for_donation</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgM1po_EeOXzvVK2MY5wA" name="fromrecord_is_reported_donation" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM15o_EeOXzvVK2MY5wA">
          <language></language>
          <body>donation.is_reported_donation</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgM2Jo_EeOXzvVK2MY5wA" name="assert_for_zero" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM2Zo_EeOXzvVK2MY5wA">
          <language></language>
          <body>actual_deduction = 0</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgM2po_EeOXzvVK2MY5wA" name="fromrecord_actual_deduction" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM25o_EeOXzvVK2MY5wA">
          <language></language>
          <body>income.getDeductionForDonations(taxation_year).deduced_amount</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgM3Jo_EeOXzvVK2MY5wA" name="fromrecord_incomes" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM3Zo_EeOXzvVK2MY5wA">
          <language></language>
          <body>self.incomes->select(income: Income | income.year = taxation_year)</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgM3po_EeOXzvVK2MY5wA" name="fromrecord_eligible_donations" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM35o_EeOXzvVK2MY5wA">
          <language></language>
          <body>income.expenses->select(e:Expense |e.oclIsTypeOf(Donation) and (e.year_expense_was_incurred_in = taxation_year or e.is_donation_reported = false) and e.is_eligible_donation)</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgM4Jo_EeOXzvVK2MY5wA" name="fromrecord_sum_eligible_donations" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM4Zo_EeOXzvVK2MY5wA">
          <language></language>
          <body>eligible_donations.declared_amount->sum()</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgM4po_EeOXzvVK2MY5wA" name="fromrecord_authorized" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM45o_EeOXzvVK2MY5wA">
          <language></language>
          <body>income.authorized_deductible_amount_for_donation</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgM5Jo_EeOXzvVK2MY5wA" name="fromrecord_maximum_deductible" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM5Zo_EeOXzvVK2MY5wA">
          <language></language>
          <body>income.maximum_deductible_amount_for_donation</body>
        </specification>
      </ownedRule>
      <ownedRule xmi:id="_1kgM5po_EeOXzvVK2MY5wA" name="fromrecord_authorized_deductible_amount_for_donation" constrainedElement="_1kgMtpo_EeOXzvVK2MY5wA">
        <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM55o_EeOXzvVK2MY5wA">
          <language></language>
          <body>income.authorized_deductible_amount_for_donation</body>
        </specification>
      </ownedRule>
      <ownedParameter xmi:id="_1kgM6Jo_EeOXzvVK2MY5wA" name="Parameter2">
        <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinMpo_EeOXzvVK2MY5wA"/>
      </ownedParameter>
      <ownedParameter xmi:id="_1kgM6Zo_EeOXzvVK2MY5wA" name="Parameter6">
        <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKpo_EeOXzvVK2MY5wA"/>
      </ownedParameter>
      <ownedParameter xmi:id="_1kgM6po_EeOXzvVK2MY5wA" name="Parameter7">
        <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKJo_EeOXzvVK2MY5wA"/>
      </ownedParameter>
      <ownedParameter xmi:id="_1kgM65o_EeOXzvVK2MY5wA" name="Parameter1"/>
      <node xmi:type="uml:ActivityParameterNode" xmi:id="_1kgM7Jo_EeOXzvVK2MY5wA" name="incomes" outgoing="_1kgNR5o_EeOXzvVK2MY5wA" parameter="_1kgM6Jo_EeOXzvVK2MY5wA">
        <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinMpo_EeOXzvVK2MY5wA"/>
        <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgM7Zo_EeOXzvVK2MY5wA" value="1"/>
      </node>
      <node xmi:type="uml:InitialNode" xmi:id="_1kgM7po_EeOXzvVK2MY5wA" outgoing="_1kgNSpo_EeOXzvVK2MY5wA"/>
      <node xmi:type="uml:ActivityParameterNode" xmi:id="_1kgM75o_EeOXzvVK2MY5wA" name="minimum_deductible_amount_for_donation" parameter="_1kgM6Zo_EeOXzvVK2MY5wA">
        <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKpo_EeOXzvVK2MY5wA"/>
        <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgM8Jo_EeOXzvVK2MY5wA" value="1"/>
      </node>
      <node xmi:type="uml:ActivityParameterNode" xmi:id="_1kgM8Zo_EeOXzvVK2MY5wA" name="max_deductible_purcentage_for_donation" parameter="_1kgM6po_EeOXzvVK2MY5wA">
        <eAnnotations xmi:id="_1kgM8po_EeOXzvVK2MY5wA" source="http://www.eclipse.org/uml2/2.0.0/UML"/>
        <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKJo_EeOXzvVK2MY5wA"/>
        <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgM85o_EeOXzvVK2MY5wA" value="1"/>
      </node>
      <node xmi:type="uml:ActivityParameterNode" xmi:id="_1kgM9Jo_EeOXzvVK2MY5wA" name="taxation_year" parameter="_1kgM65o_EeOXzvVK2MY5wA">
        <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinLpo_EeOXzvVK2MY5wA"/>
        <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgM9Zo_EeOXzvVK2MY5wA" value="1"/>
      </node>
      <node xmi:type="uml:ExpansionRegion" xmi:id="_1kgM9po_EeOXzvVK2MY5wA" name="Donations per income" incoming="_1kgNSpo_EeOXzvVK2MY5wA" inputElement="_1kgNJZo_EeOXzvVK2MY5wA">
        <ownedComment xmi:id="_1kgM95o_EeOXzvVK2MY5wA" annotatedElement="_1kgNNJo_EeOXzvVK2MY5wA">
          <body>&lt;p>actual_deduction = 0&lt;/p></body>
        </ownedComment>
        <ownedComment xmi:id="_1kgM-Jo_EeOXzvVK2MY5wA" annotatedElement="_1kgNOJo_EeOXzvVK2MY5wA">
          <body>&lt;p>authorized_deductible_amount_for_donation&lt;/p></body>
        </ownedComment>
        <ownedComment xmi:id="_1kgM-Zo_EeOXzvVK2MY5wA" annotatedElement="_1kgNPJo_EeOXzvVK2MY5wA">
          <body>&lt;p>maximum_deductible_amount&lt;/p></body>
        </ownedComment>
        <ownedComment xmi:id="_1kgM-po_EeOXzvVK2MY5wA" annotatedElement="_1kgNP5o_EeOXzvVK2MY5wA">
          <body>&lt;p>sum_eligible_donations&lt;/p></body>
        </ownedComment>
        <ownedComment xmi:id="_1kgM-5o_EeOXzvVK2MY5wA" annotatedElement="_1kgNRJo_EeOXzvVK2MY5wA">
          <body>&lt;p>actual_deduction=expected_deduction&lt;/p></body>
        </ownedComment>
        <ownedRule xmi:id="_1kgM_Jo_EeOXzvVK2MY5wA" name="Assert_last_one" constrainedElement="_1kgM9po_EeOXzvVK2MY5wA">
          <specification xmi:type="uml:OpaqueExpression" xmi:id="_1kgM_Zo_EeOXzvVK2MY5wA">
            <language></language>
            <body>actual_deduction=expected_deduction</body>
          </specification>
        </ownedRule>
        <edge xmi:type="uml:ControlFlow" xmi:id="_1kgM_po_EeOXzvVK2MY5wA" source="_1kgNM5o_EeOXzvVK2MY5wA" target="_1kgNNZo_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgM_5o_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNAJo_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <edge xmi:type="uml:ControlFlow" xmi:id="_1kgNAZo_EeOXzvVK2MY5wA" name="yes" source="_1kgNNZo_EeOXzvVK2MY5wA" target="_1kgNNpo_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNApo_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNA5o_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <edge xmi:type="uml:ControlFlow" xmi:id="_1kgNBJo_EeOXzvVK2MY5wA" name="no" source="_1kgNNpo_EeOXzvVK2MY5wA" target="_1kgNN5o_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNBZo_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNBpo_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <edge xmi:type="uml:ControlFlow" xmi:id="_1kgNB5o_EeOXzvVK2MY5wA" name="yes" source="_1kgNN5o_EeOXzvVK2MY5wA" target="_1kgNOJo_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNCJo_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNCZo_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <edge xmi:type="uml:ControlFlow" xmi:id="_1kgNCpo_EeOXzvVK2MY5wA" name="yes" source="_1kgNNpo_EeOXzvVK2MY5wA" target="_1kgNO5o_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNC5o_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNDJo_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <edge xmi:type="uml:ControlFlow" xmi:id="_1kgNDZo_EeOXzvVK2MY5wA" name="no" source="_1kgNN5o_EeOXzvVK2MY5wA" target="_1kgNPJo_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNDpo_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgND5o_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <edge xmi:type="uml:ControlFlow" xmi:id="_1kgNEJo_EeOXzvVK2MY5wA" name="yes" source="_1kgNO5o_EeOXzvVK2MY5wA" target="_1kgNPJo_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNEZo_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNEpo_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <edge xmi:type="uml:ControlFlow" xmi:id="_1kgNE5o_EeOXzvVK2MY5wA" name="no" source="_1kgNO5o_EeOXzvVK2MY5wA" target="_1kgNP5o_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNFJo_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNFZo_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <edge xmi:type="uml:ControlFlow" xmi:id="_1kgNFpo_EeOXzvVK2MY5wA" name="no" source="_1kgNNZo_EeOXzvVK2MY5wA" target="_1kgNNJo_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNF5o_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNGJo_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <edge xmi:type="uml:ObjectFlow" xmi:id="_1kgNGZo_EeOXzvVK2MY5wA" source="_1kgNQJo_EeOXzvVK2MY5wA" target="_1kgNQpo_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNGpo_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNG5o_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <edge xmi:type="uml:ObjectFlow" xmi:id="_1kgNHJo_EeOXzvVK2MY5wA" source="_1kgNPZo_EeOXzvVK2MY5wA" target="_1kgNQpo_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNHZo_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNHpo_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <edge xmi:type="uml:ObjectFlow" xmi:id="_1kgNH5o_EeOXzvVK2MY5wA" source="_1kgNOZo_EeOXzvVK2MY5wA" target="_1kgNQpo_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNIJo_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNIZo_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <edge xmi:type="uml:ObjectFlow" xmi:id="_1kgNIpo_EeOXzvVK2MY5wA" source="_1kgNQpo_EeOXzvVK2MY5wA" target="_1kgNRZo_EeOXzvVK2MY5wA">
          <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNI5o_EeOXzvVK2MY5wA">
            <language></language>
            <body></body>
          </guard>
          <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNJJo_EeOXzvVK2MY5wA" value="1"/>
        </edge>
        <node xmi:type="uml:ExpansionNode" xmi:id="_1kgNJZo_EeOXzvVK2MY5wA" name="income" incoming="_1kgNR5o_EeOXzvVK2MY5wA" regionAsInput="_1kgM9po_EeOXzvVK2MY5wA">
          <type xmi:type="uml:Class" href="TaxCard.uml#_1kg0h5o_EeOXzvVK2MY5wA"/>
          <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgNJpo_EeOXzvVK2MY5wA" value="1"/>
        </node>
        <node xmi:type="uml:InputPin" xmi:id="_1kgNJ5o_EeOXzvVK2MY5wA" name="eligible_donations">
          <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinQpo_EeOXzvVK2MY5wA"/>
          <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgNKJo_EeOXzvVK2MY5wA" value="1"/>
          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_1kgNKZo_EeOXzvVK2MY5wA" value="1"/>
          <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_1kgNKpo_EeOXzvVK2MY5wA"/>
        </node>
        <node xmi:type="uml:InputPin" xmi:id="_1kgNK5o_EeOXzvVK2MY5wA" name="sum_eligible_donations">
          <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKpo_EeOXzvVK2MY5wA"/>
          <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgNLJo_EeOXzvVK2MY5wA" value="1"/>
        </node>
        <node xmi:type="uml:InputPin" xmi:id="_1kgNLZo_EeOXzvVK2MY5wA" name="actual_deduction">
          <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKpo_EeOXzvVK2MY5wA"/>
          <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgNLpo_EeOXzvVK2MY5wA" value="1"/>
        </node>
        <node xmi:type="uml:InputPin" xmi:id="_1kgNL5o_EeOXzvVK2MY5wA" name="authorized_deductible_amount_for_donation">
          <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKpo_EeOXzvVK2MY5wA"/>
          <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgNMJo_EeOXzvVK2MY5wA" value="1"/>
        </node>
        <node xmi:type="uml:InputPin" xmi:id="_1kgNMZo_EeOXzvVK2MY5wA" name="maximum_deductible_amount_for_donation">
          <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKpo_EeOXzvVK2MY5wA"/>
          <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgNMpo_EeOXzvVK2MY5wA" value="1"/>
        </node>
        <node xmi:type="uml:InitialNode" xmi:id="_1kgNM5o_EeOXzvVK2MY5wA" outgoing="_1kgM_po_EeOXzvVK2MY5wA"/>
        <node xmi:type="uml:OpaqueAction" xmi:id="_1kgNNJo_EeOXzvVK2MY5wA" name="Check zero deduction" incoming="_1kgNFpo_EeOXzvVK2MY5wA"/>
        <node xmi:type="uml:DecisionNode" xmi:id="_1kgNNZo_EeOXzvVK2MY5wA" name="sum_eligible_donations >= minimum_deductible_amount_for_donation" outgoing="_1kgNAZo_EeOXzvVK2MY5wA _1kgNFpo_EeOXzvVK2MY5wA" incoming="_1kgM_po_EeOXzvVK2MY5wA"/>
        <node xmi:type="uml:DecisionNode" xmi:id="_1kgNNpo_EeOXzvVK2MY5wA" name="sum_eligible_donations &lt; authorized_deductible_amount_for_donation" outgoing="_1kgNBJo_EeOXzvVK2MY5wA _1kgNCpo_EeOXzvVK2MY5wA" incoming="_1kgNAZo_EeOXzvVK2MY5wA"/>
        <node xmi:type="uml:DecisionNode" xmi:id="_1kgNN5o_EeOXzvVK2MY5wA" name="authorized_deductible_amount_for_donation &lt; maximum_deductible_amount_for_donation" outgoing="_1kgNB5o_EeOXzvVK2MY5wA _1kgNDZo_EeOXzvVK2MY5wA" incoming="_1kgNBJo_EeOXzvVK2MY5wA"/>
        <node xmi:type="uml:OpaqueAction" xmi:id="_1kgNOJo_EeOXzvVK2MY5wA" name="Calculate deduction for authorized case" incoming="_1kgNB5o_EeOXzvVK2MY5wA">
          <outputValue xmi:id="_1kgNOZo_EeOXzvVK2MY5wA" outgoing="_1kgNH5o_EeOXzvVK2MY5wA">
            <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKpo_EeOXzvVK2MY5wA"/>
            <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgNOpo_EeOXzvVK2MY5wA" value="1"/>
          </outputValue>
        </node>
        <node xmi:type="uml:DecisionNode" xmi:id="_1kgNO5o_EeOXzvVK2MY5wA" name="sum_eligible_donations &lt;= maximum_deductible_amount_for_donation" outgoing="_1kgNEJo_EeOXzvVK2MY5wA _1kgNE5o_EeOXzvVK2MY5wA" incoming="_1kgNCpo_EeOXzvVK2MY5wA"/>
        <node xmi:type="uml:OpaqueAction" xmi:id="_1kgNPJo_EeOXzvVK2MY5wA" name="Calculate deduction for exceeding cases" incoming="_1kgNDZo_EeOXzvVK2MY5wA _1kgNEJo_EeOXzvVK2MY5wA">
          <outputValue xmi:id="_1kgNPZo_EeOXzvVK2MY5wA" outgoing="_1kgNHJo_EeOXzvVK2MY5wA">
            <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKpo_EeOXzvVK2MY5wA"/>
            <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgNPpo_EeOXzvVK2MY5wA" value="1"/>
          </outputValue>
        </node>
        <node xmi:type="uml:OpaqueAction" xmi:id="_1kgNP5o_EeOXzvVK2MY5wA" name="Calculate deduction for normal cases" incoming="_1kgNE5o_EeOXzvVK2MY5wA">
          <outputValue xmi:id="_1kgNQJo_EeOXzvVK2MY5wA" outgoing="_1kgNGZo_EeOXzvVK2MY5wA">
            <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKpo_EeOXzvVK2MY5wA"/>
            <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgNQZo_EeOXzvVK2MY5wA" value="1"/>
          </outputValue>
        </node>
        <node xmi:type="uml:CentralBufferNode" xmi:id="_1kgNQpo_EeOXzvVK2MY5wA" name="expected_deduction" outgoing="_1kgNIpo_EeOXzvVK2MY5wA" incoming="_1kgNGZo_EeOXzvVK2MY5wA _1kgNHJo_EeOXzvVK2MY5wA _1kgNH5o_EeOXzvVK2MY5wA">
          <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKpo_EeOXzvVK2MY5wA"/>
          <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgNQ5o_EeOXzvVK2MY5wA" value="1"/>
        </node>
        <node xmi:type="uml:OpaqueAction" xmi:id="_1kgNRJo_EeOXzvVK2MY5wA" name="Check validity of donations deductions">
          <inputValue xmi:id="_1kgNRZo_EeOXzvVK2MY5wA" incoming="_1kgNIpo_EeOXzvVK2MY5wA">
            <type xmi:type="uml:DataType" href="CTIE_Library.uml#_1jinKpo_EeOXzvVK2MY5wA"/>
            <upperBound xmi:type="uml:LiteralInteger" xmi:id="_1kgNRpo_EeOXzvVK2MY5wA" value="1"/>
          </inputValue>
        </node>
      </node>
      <edge xmi:type="uml:ObjectFlow" xmi:id="_1kgNR5o_EeOXzvVK2MY5wA" source="_1kgM7Jo_EeOXzvVK2MY5wA" target="_1kgNJZo_EeOXzvVK2MY5wA">
        <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNSJo_EeOXzvVK2MY5wA">
          <language></language>
          <body></body>
        </guard>
        <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNSZo_EeOXzvVK2MY5wA" value="1"/>
      </edge>
      <edge xmi:type="uml:ControlFlow" xmi:id="_1kgNSpo_EeOXzvVK2MY5wA" source="_1kgM7po_EeOXzvVK2MY5wA" target="_1kgM9po_EeOXzvVK2MY5wA">
        <guard xmi:type="uml:OpaqueExpression" xmi:id="_1kgNS5o_EeOXzvVK2MY5wA">
          <language></language>
          <body></body>
        </guard>
        <weight xmi:type="uml:LiteralInteger" xmi:id="_1kgNTJo_EeOXzvVK2MY5wA" value="1"/>
      </edge>
    </packagedElement>
    <profileApplication xmi:id="_1kgNTZo_EeOXzvVK2MY5wA">
      <eAnnotations xmi:id="_1kgNTpo_EeOXzvVK2MY5wA" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UML_PROFILES/Standard.profile.uml#_yzU58YinEdqtvbnfB2L_5w"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UML_PROFILES/Standard.profile.uml#_0"/>
    </profileApplication>
    <profileApplication xmi:id="_1kgNT5o_EeOXzvVK2MY5wA">
      <eAnnotations xmi:id="_1kgNUJo_EeOXzvVK2MY5wA" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="Default.profile.uml#_1jjMWZo_EeOXzvVK2MY5wA"/>
      </eAnnotations>
      <appliedProfile href="Default.profile.uml#_1jjMV5o_EeOXzvVK2MY5wA"/>
    </profileApplication>
    <profileApplication xmi:id="_1kgNUZo_EeOXzvVK2MY5wA">
      <eAnnotations xmi:id="_1kgNUpo_EeOXzvVK2MY5wA" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="Deployment.profile.uml#_1kearpo_EeOXzvVK2MY5wA"/>
      </eAnnotations>
      <appliedProfile href="Deployment.profile.uml#_1kearJo_EeOXzvVK2MY5wA"/>
    </profileApplication>
    <profileApplication xmi:id="_1kgNU5o_EeOXzvVK2MY5wA">
      <eAnnotations xmi:id="_1kgNVJo_EeOXzvVK2MY5wA" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="CTIE_Profile_Final.profile.uml#_1kC5ypo_EeOXzvVK2MY5wA"/>
      </eAnnotations>
      <appliedProfile href="CTIE_Profile_Final.profile.uml#_1kC5yJo_EeOXzvVK2MY5wA"/>
    </profileApplication>
  </uml:Package>
  <CTIE_Profile_Final:context xmi:id="_1kgNVZo_EeOXzvVK2MY5wA" context_class="TaxPayer" base_Activity="_1kgMtpo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:fromrecord xmi:id="_1kgNVpo_EeOXzvVK2MY5wA" base_ActivityParameterNode="_1kgM7Jo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:in xmi:id="_1kgNV5o_EeOXzvVK2MY5wA" base_ActivityParameterNode="_1kgM7Jo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:fromlaw xmi:id="_1kgNWJo_EeOXzvVK2MY5wA" base_ActivityParameterNode="_1kgM8Zo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:in xmi:id="_1kgNWZo_EeOXzvVK2MY5wA" base_ActivityParameterNode="_1kgM8Zo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:fromlaw xmi:id="_1kgNWpo_EeOXzvVK2MY5wA" base_ActivityParameterNode="_1kgM75o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:in xmi:id="_1kgNW5o_EeOXzvVK2MY5wA" base_ActivityParameterNode="_1kgM75o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:assert xmi:id="_1kgNXJo_EeOXzvVK2MY5wA" base_OpaqueAction="_1kgNNJo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:statement xmi:id="_1kgNXZo_EeOXzvVK2MY5wA" constraint="_1kgM2Jo_EeOXzvVK2MY5wA" base_Comment="_1kgM95o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:query xmi:id="_1kgNXpo_EeOXzvVK2MY5wA" question="" source="Grand Ducal Regulation (2013)" value_type="FIXED_VALUE" base_Comment="_1kgMt5o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:query xmi:id="_1kgNX5o_EeOXzvVK2MY5wA" constraint="_1kgMzJo_EeOXzvVK2MY5wA" base_Comment="_1kgMuJo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:fromagent xmi:id="_1kgNYJo_EeOXzvVK2MY5wA" base_ActivityParameterNode="_1kgM9Jo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:in xmi:id="_1kgNYZo_EeOXzvVK2MY5wA" base_ActivityParameterNode="_1kgM9Jo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:query xmi:id="_1kgNYpo_EeOXzvVK2MY5wA" agent_role="OFFICER" question="Which year needs to be checked?" base_Comment="_1kgMuZo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:query xmi:id="_1kgNY5o_EeOXzvVK2MY5wA" constraint="_1kgM2po_EeOXzvVK2MY5wA" base_Comment="_1kgMupo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:iterative xmi:id="_1kgNZJo_EeOXzvVK2MY5wA" base_ExpansionRegion="_1kgM9po_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:query xmi:id="_1kgNZZo_EeOXzvVK2MY5wA" constraint="_1kgM3Jo_EeOXzvVK2MY5wA" base_Comment="_1kgMvJo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:fromrecord xmi:id="_1kgNZpo_EeOXzvVK2MY5wA" base_Pin="_1kgNJ5o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:in xmi:id="_1kgNZ5o_EeOXzvVK2MY5wA" base_Pin="_1kgNJ5o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:in xmi:id="_1kgNaJo_EeOXzvVK2MY5wA" base_Pin="_1kgNK5o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:fromrecord xmi:id="_1kgNaZo_EeOXzvVK2MY5wA" base_Pin="_1kgNK5o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:fromrecord xmi:id="_1kgNapo_EeOXzvVK2MY5wA" base_Pin="_1kgNLZo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:in xmi:id="_1kgNa5o_EeOXzvVK2MY5wA" base_Pin="_1kgNLZo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:in xmi:id="_1kgNbJo_EeOXzvVK2MY5wA" base_Pin="_1kgNL5o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:in xmi:id="_1kgNbZo_EeOXzvVK2MY5wA" base_Pin="_1kgNMZo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:query xmi:id="_1kgNbpo_EeOXzvVK2MY5wA" constraint="_1kgM3po_EeOXzvVK2MY5wA" base_Comment="_1kgMu5o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:query xmi:id="_1kgNb5o_EeOXzvVK2MY5wA" constraint="_1kgM4Jo_EeOXzvVK2MY5wA" base_Comment="_1kgMvZo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:query xmi:id="_1kgNcJo_EeOXzvVK2MY5wA" constraint="_1kgM5po_EeOXzvVK2MY5wA" base_Comment="_1kgMvpo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:fromrecord xmi:id="_1kgNcZo_EeOXzvVK2MY5wA" base_Pin="_1kgNL5o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:query xmi:id="_1kgNcpo_EeOXzvVK2MY5wA" constraint="_1kgM5Jo_EeOXzvVK2MY5wA" base_Comment="_1kgMv5o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:fromrecord xmi:id="_1kgNc5o_EeOXzvVK2MY5wA" base_Pin="_1kgNMZo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:calculate xmi:id="_1kgNdJo_EeOXzvVK2MY5wA" base_OpaqueAction="_1kgNOJo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:formula xmi:id="_1kgNdZo_EeOXzvVK2MY5wA" constraint="_1kgM1Jo_EeOXzvVK2MY5wA" base_Comment="_1kgM-Jo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:calculate xmi:id="_1kgNdpo_EeOXzvVK2MY5wA" base_OpaqueAction="_1kgNPJo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:calculate xmi:id="_1kgNd5o_EeOXzvVK2MY5wA" base_OpaqueAction="_1kgNP5o_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:formula xmi:id="_1kgNeJo_EeOXzvVK2MY5wA" constraint="_1kgMxJo_EeOXzvVK2MY5wA" base_Comment="_1kgM-Zo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:formula xmi:id="_1kgNeZo_EeOXzvVK2MY5wA" constraint="_1kgMxpo_EeOXzvVK2MY5wA" base_Comment="_1kgM-po_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:intermediate xmi:id="_1kgNepo_EeOXzvVK2MY5wA" base_CentralBufferNode="_1kgNQpo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:assert xmi:id="_1kgNe5o_EeOXzvVK2MY5wA" base_OpaqueAction="_1kgNRJo_EeOXzvVK2MY5wA"/>
  <CTIE_Profile_Final:statement xmi:id="_1kgNfJo_EeOXzvVK2MY5wA" constraint="_1kgM_Jo_EeOXzvVK2MY5wA" base_Comment="_1kgM-5o_EeOXzvVK2MY5wA"/>
</xmi:XMI>
